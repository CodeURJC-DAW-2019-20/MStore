!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@covalent/core/media",["exports","@angular/core","rxjs"],t):t(((e=e||self).covalent=e.covalent||{},e.covalent.core=e.covalent.core||{},e.covalent.core.media={}),e.ng.core,e.rxjs)}(this,(function(e,t,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}var s=function(){function e(e){var t=this;this._ngZone=e,this._resizing=!1,this._queryMap=new Map,this._querySources={},this._queryObservables={},this._queryMap.set("xs","(max-width: 599px)"),this._queryMap.set("gt-xs","(min-width: 600px)"),this._queryMap.set("sm","(min-width: 600px) and (max-width: 959px)"),this._queryMap.set("gt-sm","(min-width: 960px)"),this._queryMap.set("md","(min-width: 960px) and (max-width: 1279px)"),this._queryMap.set("gt-md","(min-width: 1280px)"),this._queryMap.set("lg","(min-width: 1280px) and (max-width: 1919px)"),this._queryMap.set("gt-lg","(min-width: 1920px)"),this._queryMap.set("xl","(min-width: 1920px)"),this._queryMap.set("landscape","(orientation: landscape)"),this._queryMap.set("portrait","(orientation: portrait)"),this._queryMap.set("print","print"),this._resizing=!1,this._globalSubscription=this._ngZone.runOutsideAngular((function(){return r.fromEvent(window,"resize").subscribe((function(){t._resizing||(t._resizing=!0,setTimeout((function(){t._onResize(),t._resizing=!1}),100))}))}))}return e.prototype.deregisterQuery=function(e){this._queryMap.get(e.toLowerCase())&&(e=this._queryMap.get(e.toLowerCase())),this._querySources[e].unsubscribe(),delete this._querySources[e],delete this._queryObservables[e]},e.prototype.query=function(e){return this._queryMap.get(e.toLowerCase())&&(e=this._queryMap.get(e.toLowerCase())),this._ngZone.run((function(){return matchMedia(e).matches}))},e.prototype.registerQuery=function(e){return this._queryMap.get(e.toLowerCase())&&(e=this._queryMap.get(e.toLowerCase())),this._querySources[e]||(this._querySources[e]=new r.BehaviorSubject(matchMedia(e).matches),this._queryObservables[e]=this._querySources[e].asObservable()),this._queryObservables[e]},e.prototype.broadcast=function(){this._onResize()},e.prototype._onResize=function(){var e,t,r=this,s=function(e){n._ngZone.run((function(){r._matchMediaTrigger(e)}))},n=this;try{for(var o=i(Object.keys(this._querySources)),a=o.next();!a.done;a=o.next()){s(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype._matchMediaTrigger=function(e){this._querySources[e].next(matchMedia(e).matches)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.NgZone}]},e}();var n=function(){function e(e,t,r){this._renderer=e,this._elementRef=t,this._mediaService=r,this._matches=!1,this._attributes={},this._styles={},this._classes=[]}return Object.defineProperty(e.prototype,"query",{set:function(e){if(!e)throw new Error("Query needed for [tdMediaToggle] directive.");this._query=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{set:function(e){this._attributes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{set:function(e){this._classes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{set:function(e){this._styles=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._mediaChange(this._mediaService.query(this._query)),this._subscription=this._mediaService.registerQuery(this._query).subscribe((function(t){e._mediaChange(t)}))},e.prototype.ngOnDestroy=function(){this._subscription&&this._subscription.unsubscribe()},e.prototype._mediaChange=function(e){this._matches=e,this._changeAttributes(),this._changeClasses(),this._changeStyles()},e.prototype._changeAttributes=function(){for(var e in this._attributes)this._matches?this._renderer.setAttribute(this._elementRef.nativeElement,e,this._attributes[e]):this._renderer.removeAttribute(this._elementRef.nativeElement,e)},e.prototype._changeClasses=function(){var e=this;this._classes.forEach((function(t){e._matches?e._renderer.addClass(e._elementRef.nativeElement,t):e._renderer.removeClass(e._elementRef.nativeElement,t)}))},e.prototype._changeStyles=function(){for(var e in this._styles)this._matches?this._renderer.setStyle(this._elementRef.nativeElement,e,this._styles[e]):this._renderer.removeStyle(this._elementRef.nativeElement,e)},e.decorators=[{type:t.Directive,args:[{selector:"[tdMediaToggle]"}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:s}]},e.propDecorators={query:[{type:t.Input,args:["tdMediaToggle"]}],attributes:[{type:t.Input,args:["mediaAttributes"]}],classes:[{type:t.Input,args:["mediaClasses"]}],styles:[{type:t.Input,args:["mediaStyles"]}]},e}();var o=[n],a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[o],exports:[o],providers:[s]}]}],e}();e.CovalentMediaModule=a,e.TdMediaService=s,e.TdMediaToggleDirective=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-core-media.umd.min.js.map